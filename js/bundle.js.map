{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;;AAEA;AACA,sDAAsD,gBAAgB;;AAEtE;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA,iEAAe,IAAI;;;;;;;;;;;;;;;AC/G4B;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,2BAA2B,UAAU,MAAM,SAAS;AACpD,kDAAkD,WAAW;AAC7D,gDAAgD,WAAW;AAC3D;AACA;AACA;AACA,0DAA0D,UAAU;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2DAAO;AACX;AACA,uBAAuB,iCAAiC;AACxD;AACA,SAAS;AACT,KAAK;AACL;AACA;;;AAGA,iEAAe,KAAK;;;;;;;;;;;;;;;;ACrD4B;AACA;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,QAAQ,4DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET,KAAK;AACL;;AAEA;AACA;;AAEA;AACA,IAAI,iDAAS;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC,KAAK;AAC7C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,kDAAU;AAClB,KAAK;AACL;;AAEA;;AAEA,iEAAe,KAAK;;;;;;;;;;;;;;;;AC9EpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,iEAAe,KAAK,EAAC;;;;;;;;;;;;;;;AC9CrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,iDAAiD,OAAO;;AAExD;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,kCAAkC,WAAW;AAC7C,MAAM;AACN;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA,iDAAiD,OAAO;;AAExD;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,kCAAkC,WAAW;AAC7C,MAAM;AACN;AACA;AACA,CAAC;;AAED;AACA,4BAA4B,cAAc;AAC1C,8BAA8B,WAAW;AACzC,EAAE;AACF;AACA;AACA;;AAEA;AACA,8BAA8B,WAAW;AACzC,EAAE;AACF;AACA;;AAEA;;AAEA,iEAAe,MAAM;;;;;;;;;;;;;;ACrFrB,eAAe,0EAA0E;AACzF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,CAAC;;AAED;AACA;AACA;AACA,iEAAe,IAAI;;;;;;;;;;;;;;ACxCnB;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA,uBAAuB,IAAI;AAC3B,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,iEAAe,KAAK;;;;;;;;;;;;;;;AC1DpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,IAAI,WAAW,WAAW;AACzE;AACA;AACA;AACkB;;;;;;;UCnBlB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACNkC;AACD;AACG;AACA;AACA;AACE;AACF;AACQ;;AAE5C;AACA,wCAAwC,yDAAS;;AAEjD,IAAI,yDAAI;AACR;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,yDAAI;AACR,IAAI,0DAAK;AACT,IAAI,0DAAK;AACT,IAAI,0DAAK;AACT,IAAI,2DAAM;AACV,IAAI,0DAAK;AACT,CAAC,E","sources":["webpack://food_dist/./js/modules/calc.js","webpack://food_dist/./js/modules/cards.js","webpack://food_dist/./js/modules/forms.js","webpack://food_dist/./js/modules/modal.js","webpack://food_dist/./js/modules/slider.js","webpack://food_dist/./js/modules/tabs.js","webpack://food_dist/./js/modules/timer.js","webpack://food_dist/./js/services/services.js","webpack://food_dist/webpack/bootstrap","webpack://food_dist/webpack/runtime/define property getters","webpack://food_dist/webpack/runtime/hasOwnProperty shorthand","webpack://food_dist/webpack/runtime/make namespace object","webpack://food_dist/./js/script.js"],"sourcesContent":["function calc() {\n    const result = document.querySelector('.calculating__result span');\n\n    let sex, heght, weight, age, ratio;\n\n    if(localStorage.getItem('sex')) {\n        sex = localStorage.getItem('sex');\n    } else { \n        sex = 'female';\n        localStorage.setItem('sex', 'female');\n    }\n\n    if(localStorage.getItem('ratio')) {\n        ratio = localStorage.getItem('ratio');\n    } else { \n        ratio = 1.375;\n        localStorage.setItem('ratio', 1.375);\n    }\n\n    function initLocalSettings(selector, activeClass) {\n        const elements = document.querySelectorAll(selector);\n\n        elements.forEach(elem => {\n            if(elem.getAttribute('id') === localStorage.getItem('sex')) {\n                elem.classList.add(activeClass);\n            }\n\n            if(elem.getAttribute('data-ratio') === localStorage.getItem('ratio')) {\n                elem.classList.add(activeClass);\n            }\n        });\n    }\n\n    initLocalSettings('#gender div', 'calculating__choose-item_active');\n    initLocalSettings('.calculating__choose_big div', 'calculating__choose-item_active');\n\n    function calcTotal() {\n        if(!sex || !heght || !weight || !age || !ratio) {\n            result.textContent = '____';\n            return;\n        }\n\n        if (sex === 'female') {\n            result.textContent = Math.round((447.6 + (9.2 * weight) + (3.1 * heght) - (4.3 * age)) * ratio);\n        } else {\n            result.textContent = Math.round((88.36 + (13.4 * weight) + (4.8 * heght) - (5.7 * age)) * ratio);\n        }\n    }\n\n    calcTotal();\n\n    function getStatInfo(parentSelector, activeClass) {\n        const elements = document.querySelectorAll(`${parentSelector} div`);\n\n        elements.forEach(elem => {\n            elem.addEventListener('click', (e) => {\n                if(e.target.getAttribute('data-ratio')) {\n                    ratio = e.target.getAttribute('data-ratio');\n                    localStorage.setItem('ratio', e.target.getAttribute('data-ratio'));\n                } else { \n                    sex = e.target.getAttribute('id');\n                    localStorage.setItem('sex', e.target.getAttribute('id'));\n                }\n        \n                elements.forEach((elem) => {\n                    elem.classList.remove(activeClass);\n                });\n        \n                e.target.classList.add(activeClass);\n        \n                calcTotal();\n            });\n        });\n    }\n\n    getStatInfo('#gender', 'calculating__choose-item_active');\n    getStatInfo('.calculating__choose_big', 'calculating__choose-item_active');\n\n    function getDynamicInfo(selector) {\n        const input = document.querySelector(selector);\n\n        input.addEventListener('input', () => {\n\n            if(input.value.match(/\\D/g)) {\n                input.style.boxShadow = '0 4px 15px red';\n                console.log('qwe');\n            } else {\n                input.style.boxShadow = '0 4px 15px rgba(0,0,0,.2)';\n            }\n\n            switch(input.getAttribute('id')) {\n                case 'height' : \n                    heght = +input.value;\n                    break;\n                case 'weight' : \n                    weight = +input.value;\n                    break;\n                case 'age' : \n                    age = +input.value;\n                    break;\n            }\n            calcTotal();\n        });\n    }\n\n    getDynamicInfo('#height');\n    getDynamicInfo('#weight');\n    getDynamicInfo('#age');\n\n}\n\nexport default calc;","import { getMenu } from \"../services/services\";\n\nfunction cards() {\n    class MenuCard {\n        constructor(img, alt, title, descr, cost, parentSelector, ...classes) {\n            this.img = img;\n            this.alt = alt;\n            this.title = title;\n            this.descr = descr;\n            this.cost = cost;\n            this.classes = classes;\n            this.parent = document.querySelector(parentSelector);\n            this.rub = 56;\n            this.convertToRub();\n        }\n    \n        convertToRub() {\n            this.cost = this.rub * this.cost;\n        }\n        render() {\n            const menuItem = document.createElement('div');\n    \n            if(this.classes.length === 0) {\n                this.classes = 'menu__item';\n                menuItem.classList.add(this.classes);\n            } else {\n                this.classes.forEach(className => menuItem.classList.add(className));\n            }\n            \n            menuItem.innerHTML = `\n                <img src=${this.img} alt=${this.alt}>\n                <h3 class=\"menu__item-subtitle\">${this.title}</h3>\n                <div class=\"menu__item-descr\">${this.descr}</div>\n                <div class=\"menu__item-divider\"></div>\n                <div class=\"menu__item-price\">\n                    <div class=\"menu__item-cost\">Цена:</div>\n                    <div class=\"menu__item-total\"><span>${this.cost}</span> руб/день</div>\n                </div>\n            `;\n            this.parent.append(menuItem);\n        }\n    }\n    \n    getMenu('http://localhost:3000/menu')\n    .then(data => {\n        data.forEach(({img, altimg, title, descr, price})=> {\n            new MenuCard(img, altimg, title, descr, price, '.menu .container').render();\n        }) \n    }) \n        \n}\n\n\nexport default cards;","import { closeModal, openModal } from \"./modal\";\nimport { postData } from \"../services/services\";\n\nfunction forms(modalTimer) {\n    const forms = document.querySelectorAll('form');\n\nconst message = {\n    loading: 'img/spinner/spinner.svg',\n    success: 'Спасибо! Скоро мы с вами свяжемся!',\n    error: 'Ошибка'\n}\n\nforms.forEach(item => {\n    bindPostData(item);\n});\n\nfunction bindPostData(form) {\n    form.addEventListener('submit', (e)=> {\n        e.preventDefault();\n        const statusMessage = document.createElement('img');\n        statusMessage.style.cssText = `\n            display: block;\n            margin: 0 auto;\n        `;\n        statusMessage.src = message.loading;\n\n        form.append(statusMessage);\n\n        const formData = new FormData(form);\n\n        const json = JSON.stringify(Object.fromEntries(formData.entries()));\n\n        postData('http://localhost:3000/requests', json)\n        .then(data => {\n            console.log(data);\n            form.reset();\n            showThanksModal(message.success);\n            statusMessage.remove();\n        })\n        .catch(()=> {\n            showThanksModal(message.error);\n        })\n        .finally(() => {\n            form.reset();\n        });\n\n    });\n}\n\nfunction showThanksModal(mess) {\n    const prevModal = document.querySelector('.modal__dialog');\n\n    prevModal.classList.add('hide');\n    openModal('.modal', modalTimer);\n\n    const messModal = document.createElement('div');\n    messModal.classList.add('modal__dialog');\n\n    messModal.innerHTML = `\n    <div class=\"modal__content\">\n        <form action=\"#\">\n            <div data-close class=\"modal__close\">×</div>\n            <div class=\"modal__title\">${mess}</div>\n        </form>\n    </div>\n    `;\n\n    document.querySelector('.modal').append(messModal);\n\n    setTimeout(() => {\n        messModal.remove();\n        prevModal.classList.remove('hide');\n        closeModal('.modal');\n    }, 2000);\n}\n\n}\n\nexport default forms;","function openModal(modalSelector, modalTimer) {\n    const modal = document.querySelector(modalSelector);\n    modal.classList.add('active');\n    modal.classList.remove('hide');\n    document.body.style.overflow = 'hidden';\n    clearInterval(modalTimer);\n}\n\nfunction closeModal(modalSelector) {\n    const modal = document.querySelector(modalSelector);\n    modal.classList.add('hide');\n    modal.classList.remove('active');\n    document.body.style.overflow = '';\n}\n\nfunction modal(trigerSelector, modalSelector, modalTimer) {\n    const modalTrigger = document.querySelectorAll(trigerSelector),\n        modal = document.querySelector(modalSelector);\n\n    modalTrigger.forEach(btn => {\n        btn.addEventListener('click', ()=> openModal(modalSelector, modalTimer));\n    });\n\n    modal.addEventListener('click', (e) => {\n        if (e.target === modal || e.target.getAttribute('data-close') == '') {\n            closeModal(modalSelector);\n        }\n    });\n\n    document.addEventListener('keydown', (e) => {\n        if (e.code === \"Escape\" && modal.classList.contains('active')) { \n            closeModal(modalSelector);\n        }\n    });\n \n    function showModalByScroll() {\n        if(window.scrollY + document.documentElement.clientHeight >= document.documentElement.scrollHeight){\n            openModal(modalSelector, modalTimer);\n            window.removeEventListener('scroll', showModalByScroll);\n        }\n    }\n\n    window.addEventListener('scroll', showModalByScroll); \n\n}\n\nexport default modal;\nexport {openModal, closeModal};","function slider (){\n    const nextSlide = document.querySelector('.offer__slider-next'),\n      prevSlide = document.querySelector('.offer__slider-prev'),\n      slides = document.querySelectorAll('.offer__slide'),\n      total = document.querySelector('#total'),\n      current = document.querySelector('#current'),\n      slidesWrap = document.querySelector('.offer__slider-wrapper'),\n      slidesField = document.querySelector('.offer__slide-inner'),\n      width = window.getComputedStyle(slidesField).width;\nlet slideIndex = 1;\nlet offset = 0;\n\nslidesField.style.width = 100 * slides.length + '%';\nslidesField.style.display = 'flex';\nslidesField.style.transition = '1s all';\n\nslidesWrap.style.overflow = 'hidden';\n\nfunction deleteNotDigits(str) {\n    return +str.replace(/\\D/g, '');\n}\n\nslides.forEach(slide => {\n    slide.style.width = width;\n});\n\nnextSlide.addEventListener('click', () => {\n    if(offset == deleteNotDigits(width) * (slides.length - 1)) {\n        offset = 0;\n    } else {\n        offset += deleteNotDigits(width);\n    }\n    slidesField.style.transform = `translateX(-${offset}px)`;\n\n    if(slideIndex == slides.length) {\n        slideIndex = 1; \n    } else {\n        slideIndex++;\n    }\n\n    if(slides.length < 10) {\n        current.textContent = `0${slideIndex}`;\n    } else {\n        current.textContent = slideIndex;\n    }\n})\n\nprevSlide.addEventListener('click', () => {\n    if(offset == 0) {\n        offset = deleteNotDigits(width) * (slides.length - 1)\n    } else {\n        offset -= deleteNotDigits(width);\n    }\n\n    slidesField.style.transform = `translateX(-${offset}px)`;\n\n    if(slideIndex == 1) {\n        slideIndex = slides.length; \n    } else {\n        slideIndex--;\n    }\n\n    if(slides.length < 10) {\n        current.textContent = `0${slideIndex}`;\n    } else {\n        current.textContent = slideIndex;\n    }\n})\n\nif(slides.length < 10) {\n    total.textContent = `0${slides.length}`;\n    current.textContent = `0${slideIndex}`;\n} else {\n    total.textContent = slides.length;\n    current.textContent = slideIndex;\n}\n\n   if(slides.length < 10) {\n    current.textContent = `0${slideIndex}`;\n} else {\n    current.textContent = slideIndex;\n}\n\n}\n\nexport default slider;","function tabs({tabsSelector, tabsParentSelector, tabsContentSelector, tabsActiveSelector}) {\n    const tabsContent = document.querySelectorAll(tabsContentSelector),\n    tabsParent = document.querySelector(tabsParentSelector),\n    tabs = document.querySelectorAll(tabsSelector);\n\nfunction hideTabsContent() {\n  tabsContent.forEach(tab => {\n      tab.classList.add('hide');\n      tab.classList.remove('active');\n  })\n\n  tabs.forEach(tab => {\n      tab.classList.remove(tabsActiveSelector);\n  });\n}\n\nfunction showTabsContent(i = 0) {\n\n  tabsContent[i].classList.add('active');\n  tabsContent[i].classList.remove('hide');\n  tabs[i].classList.add(tabsActiveSelector);\n}\n\ntabsParent.addEventListener('click', (e) => {\n  const target = e.target;\n  \n  if (target && target.classList.contains('tabheader__item')) {\n      tabs.forEach((item, i) => {\n          if (item == target) {\n              hideTabsContent();\n              showTabsContent(i);\n          }\n      });\n\n  }\n});\n\nhideTabsContent();\nshowTabsContent();\n}\nexport default tabs;","function timer() {\n\n    const deadline = '2023-11-01';\n\n    function getTimeRemaining(endTime) {\n        let days, hours, minutes, seconds;\n        const t = Date.parse(endTime) - Date.parse(new Date());\n\n    if (t <= 0) {\n        days = 0;\n        hours = 0;\n        minutes = 0;\n        seconds = 0;\n    } else {\n        days = Math.floor(t / (1000 * 60 * 60 * 24)),\n        hours = Math.floor((t / (1000 * 60 * 60) % 24)),\n        minutes = Math.floor((t / 1000 / 60) % 60), \n        seconds = Math.floor((t / 1000) % 60);\n    }   \n        return {t, days, hours, minutes, seconds};\n    }\n\n    function getZero(num) {\n        if (num >= 0 && num < 10) {\n            return `0${num}`;\n        } else {\n            return num;\n        }\n    }\n\n    function setTimeRemaining() {\n        const days = document.querySelector('#days'),\n            hours = document.querySelector('#hours'),\n            minutes = document.querySelector('#minutes'),\n            seconds = document.querySelector('#seconds'),\n            timerId = setInterval(updateTimer, 1000);\n        \n        function updateTimer() {\n            const  date = getTimeRemaining(deadline);\n\n            days.textContent = getZero(date.days);\n            hours.textContent = getZero(date.hours);\n            minutes.textContent = getZero(date.minutes);\n            seconds.textContent = getZero(date.seconds);\n\n            if (date.t <= 0) {\n                clearInterval(timerId);\n            }\n        }\n\n        updateTimer();\n        \n    }\n\n    setTimeRemaining();\n\n}\n\nexport default timer;","const postData = async (url, data) => {\n    const res = await fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json'\n        },\n        body: data\n    });\n\n    return await res.json();\n}\n\nasync function getMenu(url) {\n    let res = await fetch(url);\n        if(!res.ok) {\n            throw new Error(`Could not fetch ${url}, status ${res.status}`);\n        }\n    return await res.json();\n}\nexport {postData};\nexport {getMenu};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import tabs from './modules/tabs';\nimport calc from'./modules/calc';\nimport cards from './modules/cards';\nimport forms from './modules/forms';\nimport modal from './modules/modal';\nimport slider from './modules/slider';\nimport timer from './modules/timer';\nimport { openModal } from './modules/modal'; \n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const modalTimer = setTimeout(() => openModal('.modal', modalTimer), 3000);\n\n    tabs({\n        tabsSelector: '.tabheader__item',\n        tabsParentSelector: '.tabheader__items',\n        tabsContentSelector: '.tabcontent',\n        tabsActiveSelector: 'tabheader__item_active'\n    });\n    calc();\n    cards();\n    forms(modalTimer);\n    modal('[data-modal]', '.modal', modalTimer);\n    slider();\n    timer();\n});"],"names":[],"sourceRoot":""}